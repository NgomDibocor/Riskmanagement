<aura:component access="GLOBAL" controller="OrmAssessmentController" extends="c:OrmAbstractAssessmentLayoutCmp">
   
    <aura:attribute name="assessmentData" type="Assessment__c" default="{ 'sobjectType': 'Assessment__c','Name': ''}"/>
    <aura:attribute name="showContext" type="boolean" default="true"/>
    <aura:attribute name="showContext2" type="boolean" default="false"/>
    <aura:attribute name="showContextActivity" type="boolean" default="false"/>
    <aura:attribute name="showContextActivityShow" type="boolean" default="false"/>
    <aura:attribute name="showContextWorkshop" type="boolean" default="false"/>
    <aura:attribute name="showRiskIdentif" type="boolean" default="false"/>
    <aura:attribute name="showRiskAnalyse" type="boolean" default="false"/>  
    <aura:attribute name="showMatriceAssessmentRisk" type="boolean" default="false"/>
    <aura:attribute name="showListCauseAndImpact" type="boolean" default="false"/>
    <aura:attribute name="showListMeasure" type="boolean" default="false"/>
    <aura:attribute name="showRiskTreatment" type="boolean" default="false"/>
    <aura:attribute name="showRiskPicture" type="boolean" default="false"/>
    <aura:attribute name="showActionPlan" type="boolean" default="false"/>
    <aura:attribute name="setMessage" type="String"/> 
    <aura:attribute name="checkUpdateActivity" type="boolean" default="false"/>
    <aura:attribute name="message" type="String" default="NoError"/>
    <aura:attribute name="createAssessmentButtonClicked" type="boolean" default="false"/>
    <aura:attribute name="showAssessmentRisk" type="boolean" default="false"/>
    <aura:attribute name="showAssessmentButtonClicked" type="boolean" default="false"/>
    <aura:attribute name="showMeasureInfo" type="boolean" default="false"/> 
    <aura:attribute name="nbreRisk" type="String" />
    <aura:attribute name="isEmptyListAssessmentRisk" type="boolean" default="false" />
    <aura:attribute name="isEmptyListMeasure" type="boolean" default="false" />
    <aura:attribute name="showSlider" type="boolean" default="false"/>
    
    <aura:attribute name="showChevronleft" type="boolean" default="false"/>
    <aura:attribute name="showChevronright" type="boolean" default="true"/>
    
    
    <!-- PickList -->
    <aura:attribute name="allTypeAssessment" type="String[]" />
    <aura:attribute name="allIndustrySector" type="String[]"/>
    <aura:attribute name="allOrganisationIndustrySector" type="String[]"/>
    <aura:attribute name="allTypeProjet" type="String[]" />
    <aura:attribute name="allStatus" type="String[]" />
    <aura:attribute name="allSchedule" type="String[]" />
    <aura:attribute name="allCurrency" type="String[]" />  
    <aura:attribute name="allCountry" type="String[]" />
    <aura:attribute name="allRegion" type="String[]" />
    <aura:attribute name="allOrganisation" type="Account[]" />
    <aura:attribute name="allUser" type="User[]" />
    <aura:attribute name="allActivities" type="Assessment__c[]" />
    <aura:attribute name="allCauses" type="Macro[]" />
    <aura:attribute name="allSize" type="String[]" />
    <aura:attribute name="allBudgetOrganisation" type="String[]" />
       
    <aura:attribute name="objInfo" type="Assessment__c" default="{sobjectType : 'Assessment__c'}" />
    <aura:attribute name="closeFieldDescription" type="boolean" default="true"/>
    <aura:attribute name="displaySaveCancelBtn" type="boolean" default="false"/>  
    <aura:attribute name="typeProjet" type="boolean" default="false"/>
    <aura:attribute name="typeProcessus" type="boolean" default="false"/>
    <aura:attribute name="typeOrganisation" type="boolean" default="false"/>  
    
    <aura:handler name="init" value="{! this }" action="{! c.doInit }"/>
    <aura:handler event="c:OrmCloseFieldDescriptionEvt"  action="{!c.closeFielDescript}" />
    <aura:handler event="c:eventNewOrganisationCreated" action="{!c.refreshListOrganisation}" />
    <aura:handler event="c:OrmSendValuesFieldDescriptionEvt" action="{!c.sendDescriptionSearchToFD}" />
    <aura:handler event="c:OrmActiveRiskAnalyeCmpEvt" action="{!c.activeRiskAnalye }" />
    <aura:handler event="c:OrmActiveRiskTraitementCmpEvt" action="{!c.activeRiskTreatment}" />
    <aura:handler event="c:OrmListAssessmentRiskIsNotEmpty" action="{!c.afterAssociateAssessmentRisk}" />
    <aura:handler event="c:OrmNotifyAfterdeletingAssessmentRiskEvt" action="{!c.afterdeletingAssessmentRisk}" />
    <aura:handler event="c:OrmListMeasureNotEmptyEvt" action="{!c.afterAddingMeasure}" />
    <aura:handler event="c:OrmShowActivityEvt" action="{!c.showActivity}" />
    <aura:handler event="c:OrmShowMatriceAssessmentRiskEvt" action="{!c.showMatriceAssessmentRiskAction}" />
    
    
    <!-- events -->
    <aura:registerEvent name="OrmOpenNewOrganisation" type="c:OrmOpenNewOrganisationEvt" />
    <aura:registerEvent name="OrmSendValuesToFieldDescription" type="c:OrmSendValuesToFieldDescriptionEvt"/>
    <aura:registerEvent name="OrmNewCauseClickedEvt"  type="c:OrmNewCauseClickedEvt"/>
    <aura:registerEvent name="OrmRiskIdentificationClickedEvt"  type="c:OrmRiskIdentificationClickedEvt"/>
    <aura:registerEvent name="ShowSpinner" type="c:OrmHideSpinnerEvt"  />
    <aura:registerEvent name="SendIdActivity" type="c:OrmSendIdActivityEvt"  />  
    <aura:registerEvent name="OrmNewAssessment" type="c:OrmNewAssessmentEvt"  /> 
    
    
    <!-- return to list of Assessment -->
   
    <!-- menu -->
    <div id="menuRM" class="slds-tabs--path" role="application" style="position:sticky;top:92px;z-index: 1" >
      <ul class="slds-tabs--path__nav" role="tablist">
        <li aura:id="contextId" class="slds-tabs--path__item slds-is-current" role="presentation">
          <a class="slds-tabs--path__link" id="tabs-path-438" aria-controls="content-path-1" aria-selected="true" tabindex="-1" role="tab" 
             href="javascript:void(0);" aria-live="assertive" onclick="{!c.activeContext}">
            <span class="slds-tabs--path__stage">
              <lightning:icon iconName="utility:sprite" size="xx-small" />  
            </span>
            <span class="slds-tabs--path__title" style="font-weight: 600;font-size: 1.5em;">{!$Label.c.orm_context_menu}</span>
          </a>
        </li>
        <li aura:id="riskIdentifId" class="slds-tabs--path__item slds-is-active" role="presentation">
          <a class="slds-tabs--path__link" id="tabs-path-439" aria-controls="content-path-1" aria-selected="false" tabindex="-1" role="tab" 
             href="javascript:void(0);" aria-live="assertive" onclick="{!c.activeRiskIdentif}">
            <span class="slds-tabs--path__stage">
              <lightning:icon iconName="utility:sprite" size="xx-small" />
            </span>
            <span class="slds-tabs--path__title" style="font-weight: 600;font-size: 1.5em;">{!$Label.c.orm_risk_identification_menu}</span>
          </a>
        </li>
        <li aura:id="riskAnalyseId" class="slds-tabs--path__item slds-is-active" role="presentation">
          <a class="slds-tabs--path__link" id="tabs-path-440" aria-controls="content-path-1" aria-selected="false" tabindex="-1" role="tab" 
             href="javascript:void(0);" aria-live="assertive" onclick="{!c.riskAnalyeTabClicked}">
            <span class="slds-tabs--path__stage">
              <lightning:icon iconName="utility:sprite" size="xx-small" />
            </span>
            <span class="slds-tabs--path__title" style="font-weight: 600;font-size: 1.5em;">{!$Label.c.orm_risk_analysis_menu}</span>
          </a>
        </li>
        <li aura:id="riskTreatmentId" class="slds-tabs--path__item slds-is-active" role="presentation">
          <a class="slds-tabs--path__link" id="tabs-path-440" aria-controls="content-path-1" aria-selected="false" tabindex="-1" role="tab" 
             href="javascript:void(0);" aria-live="assertive" onclick="{!c.riskTreatmentTabClicked}">
            <span class="slds-tabs--path__stage">
              <lightning:icon iconName="utility:sprite" size="xx-small" />
            </span>
            <span class="slds-tabs--path__title" style="font-weight: 600;font-size: 1.5em;">{!$Label.c.orm_risk_treatment_menu}</span>
          </a>
        </li>
        <li aura:id="riskPictureId" class="slds-tabs--path__item slds-is-active" role="presentation">
          <a class="slds-tabs--path__link" id="tabs-path-440" aria-controls="content-path-1" aria-selected="false" tabindex="-1" role="tab" 
             href="javascript:void(0);" aria-live="assertive" onclick="{!c.activeRiskPicture}">
            <span class="slds-tabs--path__stage">
              <lightning:icon iconName="utility:sprite" size="xx-small" />
            </span>
            <span class="slds-tabs--path__title" style="font-weight: 600;font-size: 1.5em;"> {!$Label.c.orm_risk_table} </span>
          </a>
        </li>
        <li aura:id="actionPlanId" class="slds-tabs--path__item slds-is-active" role="presentation">
          <a class="slds-tabs--path__link" id="tabs-path-440" aria-controls="content-path-1" aria-selected="false" tabindex="-1" role="tab" 
             href="javascript:void(0);" aria-live="assertive" onclick="{!c.activeActionPlan}">
            <span class="slds-tabs--path__stage">
              <lightning:icon iconName="utility:sprite" size="xx-small" />
            </span>
            <span class="slds-tabs--path__title" style="font-weight: 600;font-size: 1.5em;">{!$Label.c.orm_action_plan_menu}</span>
          </a>
        </li>
      </ul>
    </div>
    <!-- menu -->
    <aura:if isTrue="{!v.showChevronleft}">
        <div class="slds-size--1-of-8" style="position:sticky;top:420px;padding-left:40px" id="arrowLeft">
              <aura:if isTrue="{!v.showContext2}">
                  <span class="dot">
                     <lightning:icon class="iconPrev" onclick="{!c.prevTab}" iconName="utility:back" size="large" />
                  </span>
              </aura:if>
              <aura:if isTrue="{!v.showContextActivity}">
                  <span class="dot">
                     <lightning:icon class="iconPrev" onclick="{!c.prevTab}" iconName="utility:back" size="large" />
                  </span>
              </aura:if>
              <aura:if isTrue="{!v.showContextActivityShow}">
                   <span class="dot">
                     <lightning:icon class="iconPrev" onclick="{!c.prevTab}" iconName="utility:back" size="large" />
                   </span>
               </aura:if>
              <aura:if isTrue="{!v.showContextWorkshop}">
                  <span class="dot">
                     <lightning:icon class="iconPrev" onclick="{!c.prevTab}" iconName="utility:back" size="large" />
                  </span>
              </aura:if>
              <aura:if isTrue="{!v.showSlider}">
                  <span class="dot">
                     <lightning:icon class="iconPrev" onclick="{!c.prevTab}" iconName="utility:back" size="large" />
                  </span>
              </aura:if>
              <aura:if isTrue="{!v.showRiskIdentif}">
                  <span class="dot">
                     <lightning:icon class="iconPrev" onclick="{!c.prevTab}" iconName="utility:back" size="large" />
                  </span>
              </aura:if>
              <aura:if isTrue="{!v.showRiskAnalyse}">        
                  <span class="dot">
                     <lightning:icon class="iconPrev" onclick="{!c.prevTab}" iconName="utility:back" size="large" />
                  </span>
              </aura:if>
              <aura:if isTrue="{!v.showMatriceAssessmentRisk}">        
                  <span class="dot">
                     <lightning:icon class="iconPrev" onclick="{!c.prevTab}" iconName="utility:back" size="large" />
                  </span>
              </aura:if>
              <aura:if isTrue="{!v.showListCauseAndImpact}">        
                  <span class="dot">
                     <lightning:icon class="iconPrev" onclick="{!c.prevTab}" iconName="utility:back" size="large" />
                  </span>
              </aura:if>
              <aura:if isTrue="{!v.showListMeasure}">        
                  <span class="dot">
                     <lightning:icon class="iconPrev" onclick="{!c.prevTab}" iconName="utility:back" size="large" />
                  </span>
              </aura:if>
              <aura:if isTrue="{!v.showRiskTreatment}">        
                  <span class="dot">
                     <lightning:icon class="iconPrev" onclick="{!c.prevTab}" iconName="utility:back" size="large" />
                  </span>
              </aura:if>
              <aura:if isTrue="{!v.showRiskPicture}">        
                  <span class="dot">
                     <lightning:icon class="iconPrev" onclick="{!c.prevTab}" iconName="utility:back" size="large" />
                  </span>
              </aura:if>
              <aura:if isTrue="{!v.showActionPlan}">        
                  <span class="dot">
                     <lightning:icon class="iconPrev" onclick="{!c.prevTab}" iconName="utility:back" size="large" />
                  </span>
              </aura:if>
        </div>
    </aura:if>
    <div class="{!(v.closeFieldDescription==true ? (v.showChevronleft == false ? (v.showChevronright== true ? 'slds-size--7-of-8' : 'slds-size--8-of-8'):(v.showChevronright== true ? 'slds-size--6-of-8': 'slds-size--7-of-8')) : (v.showChevronleft == true ? (v.showChevronright== true ? 'slds-size--4-of-8' : 'slds-size--5-of-8') : (v.showChevronright== true ? 'slds-size--5-of-8' : 'slds-size--6-of-8')))}"  style="margin-top:20px;margin-bottom:30px">
        <table class="slds-table">
              <aura:if isTrue="{!v.showContext}">
                <aura:if isTrue="{!v.createAssessmentButtonClicked == true }">
                    <tr>
	                     <td >
	                          <div style="margin-bottom:20px;">
	                               <span class="textInDiv"><lightning:button label="{!$Label.c.orm_back_button_assessment}" 
							                              onclick="{!c.navigateToListAssessment}" variant="neutral"
							                              iconName='utility:back'/>
                                   </span>
	                               <h1 class="intro-title">{!$Label.c.orm_new_assessment}</h1>
	                           </div>
	                     </td>
	                </tr>
                </aura:if>
                <aura:if isTrue="{!v.showAssessmentButtonClicked == true }">
                    <tr>
	                     <td >
	                           <div style="margin-bottom:20px;">
	                               <span class="textInDiv"><lightning:button label="{!$Label.c.orm_back_button_assessment}" 
							                              onclick="{!c.navigateToListAssessment}" variant="neutral"
							                              iconName='utility:back'/>
                                   </span>
                                   <h1 class="intro-title">{!$Label.c.orm_show_assessment}</h1>
	                           </div>
	                     </td>
	                </tr>
                </aura:if>
                
                   <tr>
                        <td class="textInDiv">
                           <div style="margin-bottom:20px">
                               {!$Label.c.orm_context}
                           </div>
                        </td>
                    </tr>
                    <aura:if isTrue="{!v.displaySaveCancelBtn}"> 
                      <tr>
                          <td class="textInDiv">
                             <div style="margin-bottom:20px;">
                                 <lightning:buttonGroup class="slds-m-around_medium">
                                 <lightning:button label="{!$Label.c.orm_cancel_button}" onclick="{!c.cancel}"/>
                                 <lightning:button label="{!$Label.c.orm_save_button}"
                                                  variant="neutral"
                                                  class="slds-button slds-button_success"
                                                  onclick="{!c.createAssessment}"/>
                                 </lightning:buttonGroup>
                                  <span style="color:red">{!v.assessmentData.Id == null ? $Label.c.orm_message_save : $Label.c.orm_message_update}</span>
                             </div>
                          </td>
                      </tr>
                    </aura:if>
                    </aura:if>
                 </table>
                 <table class="slds-table">
                   <aura:if isTrue="{!v.showContext}">
                     <aura:if isTrue="{!v.assessmentData.Id == null}">
                        <tr>
                           <td class="tdClass">
                              <div class="topSpacing"> 
                                  <label class="slds-form-element__label styleLabel">{!$Label.c.orm_type_assessment}</label>
                              </div>
                                <div class="slds-form-element">
                                     <div class="slds-form-element__control">
                                  <ui:inputSelect aura:id="typeAssessment" 
                                             change="{!c.onChangeTypeAssessment}" class="slds-select"
                                             labelClass="slds-form-element__label" >
                                           <aura:iteration items="{! v.allTypeAssessment}" var="typeAssessment" >
                                               <ui:inputSelectOption  text="{!typeAssessment}"
                                                                      label="{!typeAssessment}"/>
                                           </aura:iteration>
                                         </ui:inputSelect>
                                      </div>
                                  </div>
                               </td>
                               <td class="tdClass"></td>
                           </tr>
                      <aura:set attribute="else">
                         <tr>
                             <td class="tdClass">
                                <lightning:card variant="Narrow" 
                                                title="{!$Label.c.orm_type_assessment+' :   '+v.assessmentData.orm_typeAssessment__c}" 
                                                iconName="standard:account">
                                    <lightning:input aura:id="typeAssessment" value="{!v.assessmentData.orm_typeAssessment__c}" class="slds-hidden heightHiddenInput styleLabel" />
                                </lightning:card>
                             </td>
                             <td class="tdClass"></td>
                          </tr>    
                    </aura:set>
                  </aura:if>
                  <aura:if isTrue="{!or(v.typeProjet == true, v.assessmentData.orm_typeAssessment__c == 'Project')}">
                        <tr>
                          <td class="tdClass">
                             <div class="styleLabel"> 
                                <label class="slds-form-element__label ">{!$Label.c.orm_projectType_label}</label>
                             </div>
                              <div class="slds-form-element">
                                  <div class="slds-form-element__control">
                                      <aura:if isTrue="{!v.assessmentData.Id == null}">
                                      <ui:inputSelect aura:id="typeProjet" 
                                                change="{!c.onChangeTypeProjet}" class="slds-select styleLabel"
                                                labelClass="slds-form-element__label" >
                                              <aura:iteration items="{! v.allTypeProjet}" var="typeProjet" >
                                                  <ui:inputSelectOption  text="{!typeProjet}"
                                                                         label="{!typeProjet}"/>
                                              </aura:iteration>
                                          </ui:inputSelect>
                                   <aura:set attribute="else">
                                        <ui:inputSelect aura:id="typeProjet" 
                                                change="{!c.onChangeTypeProjet}" class="slds-select styleLabel"
                                                labelClass="slds-form-element__label" >
                                                <ui:inputSelectOption  text="{!v.assessmentData.orm_typeProjet__c}"
                                                                         label="{!v.assessmentData.orm_typeProjet__c}"/>
                                              <aura:iteration items="{! v.allTypeProjet}" var="typeProjet" >
                                                  <ui:inputSelectOption  text="{!typeProjet}"
                                                                         label="{!typeProjet}"/>
                                              </aura:iteration>
                                            </ui:inputSelect>
                                      </aura:set>
                                  </aura:if>
                                  </div>
                              </div>
                          </td>
                          <td class="">
                                <div class="topSpacing">
                                    <label class="slds-form-element__label styleLabel">{!$Label.c.orm_projectName_label}<span class="cmn_mandatory_indicator"></span></label>
                                </div>
                                <div class="width"> 
                                      <ui:inputText aura:id="Name" class="slds-input styleLabel"
                                               value="{!v.assessmentData.Name}" 
                                               keyup="{!c.onNameProjectChange}" focus="{!c.sendProjectNameToFD}">
                                     </ui:inputText>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="tdClass">
                                <div class="topSpacing">
                                    <label class="slds-form-element__label styleLabel">{!$Label.c.orm_objectif_assessment}<span class="cmn_mandatory_indicator"></span></label>
                                </div>
                                <div class="width">  
                                    <ui:inputText class="slds-input styleLabel"  
                                           value="{!v.assessmentData.orm_objectif__c}"
                                           keyup="{!c.onObjectifProjectChange}" focus="{!c.sendObjectifToFD}">
                                    </ui:inputText>
                                </div>
                            </td>
                            <td class="tdClass">
                                <div class="topSpacing">
                                    <label class="slds-form-element__label styleLabel">{!$Label.c.orm_status_label}<span class="cmn_mandatory_indicator"></span></label>
                                </div>
                                <div class="slds-form-element">
                                    <div class="slds-form-element__control">
                                          <aura:if isTrue="{!v.assessmentData.Id == null}">
                                         <ui:inputSelect aura:id="statusProjet" 
                                                  change="{!c.onChangeStatusProjet}" class="slds-select styleLabel"
                                                  labelClass="slds-form-element__label" >
                                                <aura:iteration items="{! v.allStatus}" var="status" >
                                                    <ui:inputSelectOption  text="{!status}"
                                                                           label="{!status}"/>
                                                </aura:iteration>
                                            </ui:inputSelect>
                                         <aura:set attribute="else">
                                              <ui:inputSelect aura:id="statusProjet" 
                                                  change="{!c.onChangeStatusProjet}" class="slds-select styleLabel"
                                                  labelClass="slds-form-element__label" >
                                                  <ui:inputSelectOption  text="{!v.assessmentData.orm_statusAssessment__c}"
                                                                             label="{!v.assessmentData.orm_statusAssessment__c}"/>
                                                  <aura:iteration items="{! v.allStatus}" var="status" >
                                                  <ui:inputSelectOption  text="{!status}"
                                                                           label="{!status}"/>
                                                </aura:iteration>
                                            </ui:inputSelect>
                                          </aura:set>
                                      </aura:if>
                                    </div>
                                </div>
                            </td>    
                        </tr>
                        <tr>
                              <td class="tdClass">
                                  <div class="topSpacing"> 
                                      <label class="slds-form-element__label styleLabel">{!$Label.c.orm_plannedStartDate_label}<span class="cmn_mandatory_indicator"></span></label>
                                  </div>
                                  
                                  <div class="width">
                                      <ui:inputDate class="slds-input styleLabel" aura:id="plannedSD" 
                                                    value="{!v.assessmentData.orm_startDate__c}" 
                                                    displayDatePicker="true"
                                                    change="{!c.onChangePlannedSD}" focus="{!c.sendPlannedStartDateToFD}">
                                      </ui:inputDate>
                                  </div>
                              </td>    
                              <td class="tdClass">
                                  <div class="topSpacing"> 
                                      <label class="slds-form-element__label styleLabel">{!$Label.c.orm_plannedEndDate_label}<span class="cmn_mandatory_indicator"></span></label>
                                  </div>
                                  <div class="width">
                                      <ui:inputDate class="slds-input styleLabel" aura:id="plannedED" 
                                                    value="{!v.assessmentData.orm_endDate__c}" 
                                                    displayDatePicker="true"
                                                    change="{!c.onChangePlannedED}"  focus="{!c.sendPlannedEndDateToFD}">
                                      </ui:inputDate>
                                  </div>
                              </td>    
                          </tr>
                          <tr>
                             <td class="tdClass">
                                  <div class="topSpacing"> 
                                      <label class="slds-form-element__label styleLabel">{!$Label.c.orm_industrySectorClient_label}<span class="cmn_mandatory_indicator"></span></label>
                                  </div>
                                  <div class="slds-form-element">
                                     <div class="slds-form-element__control">
                                        <aura:if isTrue="{!v.assessmentData.Id == null}">
                                         <ui:inputSelect aura:id="industrySector" 
                                                  change="{!c.onChangeIndSector}" class="slds-select styleLabel"
                                                  labelClass="slds-form-element__label" >
                                                <aura:iteration items="{! v.allIndustrySector}" var="indSec" >
                                                    <ui:inputSelectOption  text="{!indSec}"
                                                                           label="{!indSec}"/>
                                                </aura:iteration>
                                            </ui:inputSelect>
                                        <aura:set attribute="else">
                                              <ui:inputSelect aura:id="industrySector" 
                                                    change="{!c.onChangeIndSector}" class="slds-select styleLabel"
                                                    labelClass="slds-form-element__label" >
                                                    <ui:inputSelectOption  text="{!v.assessmentData.orm_clientIndustrySector__c}"
                                                                             label="{!v.assessmentData.orm_clientIndustrySector__c}"/>
                                                  <aura:iteration items="{! v.allIndustrySector}" var="indSec" >
                                                      <ui:inputSelectOption  text="{!indSec}"
                                                                             label="{!indSec}"/>
                                                  </aura:iteration>
                                              </ui:inputSelect>
                                          </aura:set>
                                      </aura:if>
                                    </div>
                                </div>
                             </td>
                             <td class="tdClass">
                                  <div class="topSpacing">
                                   <label class="slds-form-element__label styleLabel">{!$Label.c.orm_currency_label}<span class="cmn_mandatory_indicator"></span></label>
                                </div>
                                  <div class="slds-form-element">
                                     <div class="slds-form-element__control">
                                        <aura:if isTrue="{!v.assessmentData.Id == null}">
                                            <ui:inputSelect aura:id="currency" 
                                                    change="{!c.onChangeCurrency}" class="slds-select styleLabel"
                                                    labelClass="slds-form-element__label" >
                                                  <aura:iteration items="{! v.allCurrency}" var="currency" >
                                                      <ui:inputSelectOption  text="{!currency}"
                                                                             label="{!currency}"/>
                                                  </aura:iteration>
                                               </ui:inputSelect>
                                          <aura:set attribute="else">
                                              <ui:inputSelect aura:id="currency" 
                                                    change="{!c.onChangeCurrency}" class="slds-select styleLabel"
                                                    labelClass="slds-form-element__label" >
                                                    <ui:inputSelectOption  text="{!v.assessmentData.orm_currency__c}"
                                                                             label="{!v.assessmentData.orm_currency__c}"/>
                                                    <aura:iteration items="{! v.allCurrency}" var="currency" >
                                                      <ui:inputSelectOption  text="{!currency}"
                                                                             label="{!currency}"/>
                                                  </aura:iteration>
                                              </ui:inputSelect>
                                          </aura:set>
                                      </aura:if>
                                    </div>
                                </div>
                              </td>    
                          </tr>
                          <tr>
                              <td class="tdClass">
                                  <div class="topSpacing"> 
                                      <label class="slds-form-element__label styleLabel">{!$Label.c.orm_commercialBudget_label}<span class="cmn_mandatory_indicator"></span></label>
                                  </div>
                                  
                                  <div class="width">
                                      <ui:inputnumber class="slds-input styleLabel" aura:id="commercialBudget" 
                                                 value="{!v.assessmentData.orm_commercialBudget__c}" 
                                                 keyup="{!c.onChangeBudgetCommercial}" focus="{!c.sendDesciptionBudgetCommercial}" >
                                      </ui:inputnumber>
                                  </div>
                              </td>    
                              <td class="tdClass">
                                  <div class="topSpacing"> 
                                      <label class="slds-form-element__label styleLabel">{!$Label.c.orm_maxCostExposture_label}<span class="cmn_mandatory_indicator"></span></label>
                                  </div>
                                  
                                  <div class="width">
                                      <ui:inputnumber class="slds-input styleLabel" aura:id="maxCostExposture" value="{!v.assessmentData.orm_maxCostExposture__c}"></ui:inputnumber>
                                  </div>
                              </td>    
                          </tr>
                          <tr>
                              <td class="tdClass">
                                  <div class="topSpacing"> 
                                      <label class="slds-form-element__label styleLabel">{!$Label.c.orm_maxSheduleExposure_label}<span class="cmn_mandatory_indicator"></span></label>
                                  </div>
                                  
                                  <div class="width">
                                      <ui:inputnumber class="slds-input scheduleInput" aura:id="maxSheduleExposture" value="{!v.assessmentData.orm_max_schedule_exposture__c}"></ui:inputnumber>
                                      <aura:if isTrue="{!v.assessmentData.Id == null}">
                                         <ui:inputSelect aura:id="schedule" 
                                                    change="{!c.onChangeSchedule}" class="slds-select scheduleSelect styleLabel"
                                                    labelClass="slds-form-element__label" >
                                                  <aura:iteration items="{! v.allSchedule}" var="schedule" >
                                                      <ui:inputSelectOption  text="{!schedule}"
                                                                             label="{!schedule}"/>
                                                  </aura:iteration>
                                          </ui:inputSelect>
                                       <aura:set attribute="else">
                                              <ui:inputSelect aura:id="schedule" 
                                                    change="{!c.onChangeSchedule}" class="slds-select scheduleSelect styleLabel"
                                                    labelClass="slds-form-element__label" >
                                                    <ui:inputSelectOption  text="{!v.assessmentData.orm_schedule__c}"
                                                                             label="{!v.assessmentData.orm_schedule__c}"/>
                                                    <aura:iteration items="{! v.allSchedule}" var="schedule" >
                                                    <ui:inputSelectOption  text="{!schedule}"
                                                                             label="{!schedule}"/>
                                                  </aura:iteration>
                                              </ui:inputSelect>
                                        </aura:set>
                                    </aura:if>
                                  </div>
                              </td>    
                              <td class="tdClass">
                                  <div class="topSpacing"> 
                                      <label class="slds-form-element__label styleLabel">{!$Label.c.orm_clientName_label}<span class="cmn_mandatory_indicator"></span></label>
                                  </div>
                                  
                                  <div class="width">
                                      <ui:inputText class="slds-input styleLabel" aura:id="clientName" 
                                                 value="{!v.assessmentData.orm_client_name__c}" 
                                                 keyup="{!c.onChangeClientName}" focus="{!c.sendDesciptionClientName}">
                                      </ui:inputText>
                                  </div>
                              </td>    
                          </tr>
                          <tr>
                            <td class="tdClass">
                                <div class="topSpacing"> 
                                    <label class="slds-form-element__label styleLabel">{!$Label.c.orm_description_object_assessment}</label>
                                </div>
	                                <div class="width">
	                                    <ui:inputTextArea class="slds-input styleLabel" 
	                                             value="{!v.assessmentData.orm_description__c}" 
	                                             keyup="{!c.onChangeDescriptionProject}" focus="{!c.sendDesciptionToFD}">
	                                    </ui:inputTextArea>
	                                </div>
                            </td>
                            <td class="tdClass">
                                <div class="topSpacing"> 
                                    <label class="slds-form-element__label styleLabel">{!$Label.c.orm_Scope}</label>
                                </div>
	                                <div class="width">
	                                    <ui:inputTextArea class="slds-input styleLabel" 
	                                             value="{!v.assessmentData.orm_scope__c}" 
	                                             keyup="{!c.onChangeScopeProject}" focus="{!c.sendDesciptionScopeToFD}">
	                                    </ui:inputTextArea>
	                                </div>
                            </td>
                       </tr>
                       <tr>
                              <td class="tdClass">
                                  <div class="topSpacing">
                                      <label class="slds-form-element__label styleLabel">{!$Label.c.orm_projectManager_label}<span class="cmn_mandatory_indicator"></span></label>
                                  </div>                                        
                                  <div class=" slds-form-element">
                                     <div class="slds-form-element__control">
                                         <aura:if isTrue="{!v.assessmentData.Id == null}">
                                          <ui:inputSelect aura:id="projectManager" 
                                                   change="{!c.onChangeProjectManager}" class="slds-select styleLabel"
                                                   labelClass="slds-form-element__label">
                                               <aura:iteration items="{!v.allUser}" var="pm">
                                                   <ui:inputSelectOption text="{!pm.Id}"
                                                                         label="{!pm.Name}" />
                                               </aura:iteration>
                                          </ui:inputSelect>
                                      <aura:set attribute="else">
                                             <ui:inputSelect aura:id="projectManager" 
                                                           change="{!c.onChangeProjectManager}" class="slds-select styleLabel"
                                                           labelClass="slds-form-element__label">
                                             <ui:inputSelectOption  text="{!v.assessmentData.orm_projetManager__c}"
                                                                               label="{!v.assessmentData.orm_projetManager__r.Name}"/>
                                                       <aura:iteration items="{!v.allUser}" var="pm">
                                                           <ui:inputSelectOption text="{!pm.Id}"
                                                                                 label="{!pm.Name}" />
                                                       </aura:iteration>
                                                  </ui:inputSelect>
                                        </aura:set>
                                    </aura:if>
                                   </div>
                                 </div>
                             </td>
                              <td class="tdClass">
                                  
                              </td>
                          </tr>
            </aura:if>
            
                <aura:if isTrue="{!or(v.typeOrganisation == true, v.assessmentData.orm_typeAssessment__c == 'Organisation')}">
                        <tr>
                             <td class="tdClass">
                                <div class="topSpacing">
                                    <label class="slds-form-element__label styleLabel">{!$Label.c.orm_orgName_label}</label>
                                </div>
                                <div class="width"> 
                                      <ui:inputText class="slds-input styleLabel" aura:id="NameOrganisation" 
                                               value="{!v.assessmentData.Name}" 
                                               keyup="{!c.onChangeNameOrganisation}" 
                                               focus="{!c.sendOrganisationNameToFD}"/>
                                </div>
                             </td>
                             <td class="tdClass">
                                <div class="topSpacing">
                                    <label class="slds-form-element__label styleLabel">{!$Label.c.orm_size_label}<span class="cmn_mandatory_indicator"></span></label>
                                </div>
                                <div class="slds-form-element">
                                   <div class="slds-form-element__control">
                                      <aura:if isTrue="{!v.assessmentData.Id == null}">
                                          <ui:inputSelect aura:id="size" 
                                                  change="{!c.onChangeSize}" class="slds-select styleLabel"
                                                  labelClass="slds-form-element__label" >
                                                <aura:iteration items="{! v.allSize}" var="size" >
                                                    <ui:inputSelectOption  text="{!size}"
                                                                           label="{!size}"/>
                                                </aura:iteration>
                                             </ui:inputSelect>
                                        <aura:set attribute="else">
                                            <ui:inputSelect aura:id="size" 
                                                  change="{!c.onChangeSize}" class="slds-select styleLabel"
                                                  labelClass="slds-form-element__label" >
                                                  <ui:inputSelectOption aura:id="defaultSize" text="{!v.assessmentData.orm_size__c}"
                                                                           label="{!v.assessmentData.orm_size__c}"/>
                                                  <aura:iteration items="{! v.allSize}" var="size" >
                                                    <ui:inputSelectOption  text="{!size}"
                                                                           label="{!size}"/>
                                                </aura:iteration>
                                            </ui:inputSelect>
                                        </aura:set>
                                    </aura:if>
                                  </div>
                              </div>
                               
                             </td>
                        </tr>
                        <tr> 
                            <td class="tdClass">
                                <div class="topSpacing">
                                  <label class="slds-form-element__label styleLabel">{!$Label.c.orm_currency_label}<span class="cmn_mandatory_indicator"></span></label>
                                </div>
                                <div class="slds-form-element">
                                   <div class="slds-form-element__control">
                                      <aura:if isTrue="{!v.assessmentData.Id == null}">
                                          <ui:inputSelect aura:id="currencyOrganisation" 
                                                  change="{!c.onChangeCurrencyOrganisation}" class="slds-select styleLabel"
                                                  labelClass="slds-form-element__label" >
                                                <aura:iteration items="{! v.allCurrency}" var="currency" >
                                                    <ui:inputSelectOption  text="{!currency}"
                                                                           label="{!currency}"/>
                                                </aura:iteration>
                                             </ui:inputSelect>
                                        <aura:set attribute="else">
                                            <ui:inputSelect aura:id="currencyOrganisation" 
                                                  change="{!c.onChangeCurrencyOrganisation}" class="slds-select styleLabel"
                                                  labelClass="slds-form-element__label" >
                                                  <ui:inputSelectOption  text="{!v.assessmentData.orm_currency__c}"
                                                                           label="{!v.assessmentData.orm_currency__c}"/>
                                                  <aura:iteration items="{! v.allCurrency}" var="currency" >
                                                    <ui:inputSelectOption  text="{!currency}"
                                                                           label="{!currency}"/>
                                                </aura:iteration>
                                            </ui:inputSelect>
                                        </aura:set>
                                    </aura:if>
                                  </div>
                              </div>
                            </td>    
                             <td class="tdClass">
                                <div class="topSpacing">
                                    <label class="slds-form-element__label styleLabel">{!$Label.c.orm_budget_label}<span class="cmn_mandatory_indicator"></span></label>
                                </div>
                                <div class="slds-form-element">
                                  <div class="slds-form-element__control">
                                        <aura:if isTrue="{!v.assessmentData.Id == null}">
                                       <ui:inputSelect aura:id="budgetOrganissation" 
                                                change="{!c.onChangeBudgetOrganisation}" class="slds-select styleLabel"
                                                labelClass="slds-form-element__label" >
                                              <aura:iteration items="{! v.allBudgetOrganisation}" var="budget" >
                                                  <ui:inputSelectOption  text="{!budget}"
                                                                         label="{!budget}"/>
                                              </aura:iteration>
                                          </ui:inputSelect>
                                       <aura:set attribute="else">
                                            <ui:inputSelect aura:id="budgetOrganissation" 
                                                change="{!c.onChangeBudgetOrganisation}" class="slds-select styleLabel"
                                                labelClass="slds-form-element__label" >
                                                <ui:inputSelectOption  text="{!v.assessmentData.orm_budgetOrganisation__c}"
                                                                           label="{!v.assessmentData.orm_budgetOrganisation__c}"/>
                                                <aura:iteration items="{! v.allBudgetOrganisation}" var="budget" >
                                                <ui:inputSelectOption  text="{!budget}"
                                                                         label="{!budget}"/>
                                              </aura:iteration>
                                          </ui:inputSelect>
                                        </aura:set>
                                    </aura:if>
                                  </div>
                              </div>
                              
                             </td>
                        </tr>
                        <tr>
                            <td >
                                <div class="topSpacing">
                                    <label class="slds-form-element__label styleLabel">{!$Label.c.orm_organisatio_manager_label}<span class="cmn_mandatory_indicator"></span></label>
                                </div>                                        
                                <div class=" slds-form-element">
                                   <div class="slds-form-element__control">
                                        <aura:if isTrue="{!v.assessmentData.Id == null}">
                                        <ui:inputSelect aura:id="organisationManager" 
                                                     change="{!c.onChangeOrganisationManager}" class="slds-select styleLabel"
                                                     labelClass="slds-form-element__label">
                                               <aura:iteration items="{!v.allUser}" var="rm">
                                                   <ui:inputSelectOption text="{!rm.Id}"
                                                                         label="{!rm.Name}" />
                                               </aura:iteration>
                                          </ui:inputSelect>
                                     <aura:set attribute="else">
                                         <ui:inputSelect aura:id="organisationManager" 
                                                   change="{!c.onChangeOrganisationManager}" class="slds-select styleLabel"
                                                   labelClass="slds-form-element__label">
                                                   <ui:inputSelectOption  text="{!v.assessmentData.orm_organisationManager__c}"
                                                                       label="{!v.assessmentData.orm_organisationManager__r.Name}"/>
                                               <aura:iteration items="{!v.allUser}" var="rm">
                                                   <ui:inputSelectOption text="{!rm.Id}"
                                                                         label="{!rm.Name}" />
                                               </aura:iteration>
                                            </ui:inputSelect>
                                      </aura:set>
                                 </aura:if>
                                      </div>
                                 </div>
                            </td>
                             <td class="tdClass">
                              <div class="topSpacing">
                                  <label class="slds-form-element__label styleLabel">{!$Label.c.orm_objectif_assessment}<span class="cmn_mandatory_indicator"></span></label>
                              </div>
                              <div class="width">  
                                  <ui:inputText class="slds-input styleLabel"  
                                         value="{!v.assessmentData.orm_objectif__c}" keyup="{!c.onchangeObjectifOrganisation}" focus="{!c.sendObjectifToFD}">
                                  </ui:inputText>
                              </div>
                          </td>
                      </tr>
                      <tr>
                          <td class="tdClass">
                              <div class="topSpacing">
                                  <label class="slds-form-element__label styleLabel">{!$Label.c.orm_country_label}<span class="cmn_mandatory_indicator"></span></label>
                              </div>
                              <div class="slds-form-element">
                                  <div class="slds-form-element__control">
                                         <aura:if isTrue="{!v.assessmentData.Id == null}">
                                         <ui:inputSelect aura:id="country" 
                                                  change="{!c.onChangeCountry}" class="slds-select styleLabel"
                                                  labelClass="slds-form-element__label" >
                                                <aura:iteration items="{! v.allCountry}" var="country" >
                                                    <ui:inputSelectOption  text="{!country}"
                                                                           label="{!country}"/>
                                                </aura:iteration>
                                            </ui:inputSelect>
                                         <aura:set attribute="else">
                                              <ui:inputSelect aura:id="country" 
                                                  change="{!c.onChangeCountry}" class="slds-select styleLabel"
                                                  labelClass="slds-form-element__label" >
                                                  <ui:inputSelectOption  text="{!v.assessmentData.orm_pays__c}"
                                                                             label="{!v.assessmentData.orm_pays__c}"/>
                                                  <aura:iteration items="{! v.allCountry}" var="country" >
                                                  <ui:inputSelectOption  text="{!country}"
                                                                           label="{!country}"/>
                                                </aura:iteration>
                                            </ui:inputSelect>
                                          </aura:set>
                                      </aura:if>
                                    </div>
                              </div>
                          </td>
                          <td class="tdClass">
                              <div class="topSpacing">
                                  <label class="slds-form-element__label styleLabel">{!$Label.c.orm_region_label}<span class="cmn_mandatory_indicator"></span></label>
                              </div>
                              <div class="slds-form-element">
                                  <div class="slds-form-element__control">
                                         <aura:if isTrue="{!v.assessmentData.Id == null}">
                                         <ui:inputSelect aura:id="region" 
                                                  change="{!c.onChangeRegion}" class="slds-select styleLabel"
                                                  labelClass="slds-form-element__label" >
                                                <aura:iteration items="{! v.allRegion}" var="region" >
                                                    <ui:inputSelectOption  text="{!region}"
                                                                           label="{!region}"/>
                                                </aura:iteration>
                                            </ui:inputSelect>
                                         <aura:set attribute="else">
                                              <ui:inputSelect aura:id="region" 
                                                  change="{!c.onChangeRegion}" class="slds-select styleLabel"
                                                  labelClass="slds-form-element__label" >
                                                  <ui:inputSelectOption  text="{!v.assessmentData.orm_region__c}"
                                                                             label="{!v.assessmentData.orm_region__c}"/>
                                                  <aura:iteration items="{! v.allRegion}" var="region" >
                                                  <ui:inputSelectOption  text="{!region}"
                                                                           label="{!region}"/>
                                                </aura:iteration>
                                            </ui:inputSelect>
                                          </aura:set>
                                      </aura:if>
                                    </div>
                              </div>
                          </td>
                      </tr>
                      <tr> 
                          <td class="tdClass">
                              <div class="topSpacing">
                                  <label class="slds-form-element__label styleLabel">{!$Label.c.orm_status_label}<span class="cmn_mandatory_indicator"></span></label>
                              </div>
                              <div class="slds-form-element">
                                  <div class="slds-form-element__control">
                                         <aura:if isTrue="{!v.assessmentData.Id == null}">
                                         <ui:inputSelect aura:id="statusOrganisation" 
                                                  change="{!c.onChangeStatusOrganisation}" class="slds-select styleLabel"
                                                  labelClass="slds-form-element__label" >
                                                <aura:iteration items="{! v.allStatus}" var="status" >
                                                    <ui:inputSelectOption  text="{!status}"
                                                                           label="{!status}"/>
                                                </aura:iteration>
                                            </ui:inputSelect>
                                         <aura:set attribute="else">
                                              <ui:inputSelect aura:id="statusOrganisation" 
                                                  change="{!c.onChangeStatusOrganisation}" class="slds-select styleLabel"
                                                  labelClass="slds-form-element__label" >
                                                  <ui:inputSelectOption  text="{!v.assessmentData.orm_statusAssessment__c}"
                                                                             label="{!v.assessmentData.orm_statusAssessment__c}"/>
                                                  <aura:iteration items="{! v.allStatus}" var="status" >
                                                  <ui:inputSelectOption  text="{!status}"
                                                                           label="{!status}"/>
                                                </aura:iteration>
                                            </ui:inputSelect>
                                          </aura:set>
                                      </aura:if>
                                    </div>
                              </div>
                          </td>
                         <td class="tdClass">
                             <div class="topSpacing"> 
                                    <label class="slds-form-element__label styleLabel">{!$Label.c.orm_industry_sector_label}<span class="cmn_mandatory_indicator"></span></label>
                                </div>
                                <div class="slds-form-element">
                                   <div class="slds-form-element__control">
                                      <aura:if isTrue="{!v.assessmentData.Id == null}">
                                       <ui:inputSelect aura:id="industrySectorOrganisation" 
                                                change="{!c.onChangeOrganisationIndSector}" class="slds-select styleLabel"
                                                labelClass="slds-form-element__label" >
                                              <aura:iteration items="{! v.allOrganisationIndustrySector}" var="indSec" >
                                                  <ui:inputSelectOption  text="{!indSec}"
                                                                         label="{!indSec}"/>
                                              </aura:iteration>
                                          </ui:inputSelect>
                                      <aura:set attribute="else">
                                            <ui:inputSelect aura:id="industrySectorOrganisation" 
                                                  change="{!c.onChangeOrganisationIndSector}" class="slds-select styleLabel"
                                                  labelClass="slds-form-element__label" >
                                                  <ui:inputSelectOption  text="{!v.assessmentData.orm_organisationIndustrySector__c}"
                                                                         label="{!v.assessmentData.orm_organisationIndustrySector__c}"/>
                                                <aura:iteration items="{! v.allOrganisationIndustrySector}" var="indSec" >
                                                    <ui:inputSelectOption  text="{!indSec}"
                                                                           label="{!indSec}"/>
                                                </aura:iteration>
                                            </ui:inputSelect>
                                        </aura:set>
                                    </aura:if>
                                  </div>
                              </div>
                         </td>
                      </tr>
                      <tr>
                          <td class="tdClass">
                              <div class="topSpacing"> 
                                  <label class="slds-form-element__label styleLabel">{!$Label.c.orm_description_object_assessment}</label>
                              </div>
                              
                              <div class="width">
                                  <ui:inputTextArea class="slds-input styleLabel" 
                                           value="{!v.assessmentData.orm_description__c}" 
                                           keyup="{!c.onchangeDescriptionOrganisation}" focus="{!c.sendDesciptionToFD}" >
                                  </ui:inputTextArea>
                              </div>
                          </td> 
                          <td class="tdClass">
                              <div class="topSpacing"> 
                                  <label class="slds-form-element__label styleLabel">{!$Label.c.orm_Scope}</label>
                              </div>
                               <div class="width">
                                   <ui:inputTextArea class="slds-input styleLabel" 
                                            value="{!v.assessmentData.orm_scope__c}" 
                                            keyup="{!c.onChangeScopeOrganisation}" focus="{!c.sendDesciptionScopeToFD}">
                                   </ui:inputTextArea>
                               </div>
                          </td>
                      </tr>
                      
          </aura:if>
              <tr>
                  <td class="textInDiv">
                     <div style="margin-top:10px; margin-bottom:10px">
                         <lightning:button label="{!$Label.c.orm_back_button_assessment}" 
                              onclick="{!c.navigateToListAssessment}" variant="neutral"
                              iconName='utility:back'/>
                     </div>
                  </td>
               </tr>  
                <tr>
                   <td class="textInDiv">
                       <button onclick="{!c.backToTopFunction}" id="myBtn" title="Go to top">Top</button> 
                   </td>
                </tr>    
            </aura:if>
            <aura:if isTrue="{!v.showContext2}">
                   <tr>
	                  <td class="textInDiv">
	                     <div style="margin-bottom:10px">
	                         <lightning:button label="{!$Label.c.orm_back_button_assessment}" 
	                              onclick="{!c.navigateToListAssessment}" variant="neutral"
	                              iconName='utility:back'/>
	                     </div>
	                  </td>
	               </tr>  
                  <tr>
                     <td class="textInDiv">
                          <div style="margin-bottom:20px;">
                               <h1 class="intro-title">{!$Label.c.orm_assumptionAndAttachments} </h1>
                           </div>
                     </td>
                  </tr>
                  <tr>
                     <td class="textInDiv">
                           <div style="margin-bottom:20px">
                               {!$Label.c.orm_context}
                           </div>
                        </td>
                  </tr>
                   <tr>
                       <td class="textInDivCmp">
                         <div class="slds-box widthBox slds-theme_alert-texture">
                              <c:OrmAssumptionListCmp assessmentData="{!v.assessmentData}"/>
                         </div>
                       </td>
                   </tr>
                   <tr>
                       <td class="textInDivCmp">
                           <div class="slds-box widthBox slds-theme_alert-texture">
                              <c:OrmAttachmentListCmp parentId="{!v.assessmentData.Id}" />
                           </div>
                       </td>
                   </tr>
                  <aura:if isTrue="{!or(v.typeProjet == true, v.assessmentData.orm_typeAssessment__c == 'Project')}">
                     
                  </aura:if>
                  <aura:if isTrue="{!or(v.typeOrganisation == true, v.assessmentData.orm_typeAssessment__c == 'Organisation')}">
                  </aura:if>
                  <aura:if isTrue="{!or(v.typeProcessus == true, v.assessmentData.orm_typeAssessment__c == 'Processus')}">
                  </aura:if>
                  <tr>
	                   <td class="textInDiv">
	                       <button onclick="{!c.backToTopFunction}" id="myBtn" title="Go to top">Top</button> 
	                   </td>
	               </tr>
                </aura:if>
                <aura:if isTrue="{!v.showContextActivity}">
                      <tr>
	                     <td class="textInDiv">
	                          <div style="margin-bottom:20px;">
	                               <h1 class="intro-title">{!$Label.c.orm_phase_activites} </h1>
	                           </div>
	                     </td>
	                  </tr>
                      <tr>
	                     <td class="textInDiv">
	                           <div style="margin-bottom:20px">
	                               {!$Label.c.orm_context}
	                           </div>
	                        </td>
	                  </tr>
	                  <tr>
                          <td>
                             <div class="slds-box widthBox slds-theme_alert-texture">
	                             <div style="margin-bottom:20px;">
									 <h1 class="titleOrganisationUnit"><span class="organisationUnit">{!$Label.c.orm_organisation_unit} </span></h1>
								 </div>
	                             <div class="slds-col" style="margin-bottom:50px;">
								        <div class="orgSelect">
								            <div class="topSpacing"> 
				                                 <label class="slds-form-element__label">{!$Label.c.orm_organisationUnit_label}</label>
				                            </div>
								            <div class="slds-form-element">
								                 <div class="slds-form-element__control">
								                      <aura:if isTrue="{!v.assessmentData.Id == null}">
														  <ui:inputSelect aura:id="organisation" 
														             change="{!c.onChangeOrganisation}" class="slds-select"
														             labelClass="slds-form-element__label">
														         <aura:iteration items="{!v.allOrganisation}" var="organisation">
														             <ui:inputSelectOption text="{!organisation.Id}"
														                                   label="{!organisation.Name}" />
														         </aura:iteration>
														    </ui:inputSelect>
														   <aura:set attribute="else">
														        <ui:inputSelect aura:id="organisation" 
														             change="{!c.onChangeOrganisation}" class="slds-select"
														             labelClass="slds-form-element__label">
														            <ui:inputSelectOption  text="{!v.assessmentData.orm_organisation__c}"
														                                       label="{!v.assessmentData.orm_organisation__r.Name}"/>
														            <aura:iteration items="{!v.allOrganisation}" var="organisation">
														                <ui:inputSelectOption text="{!organisation.Id}"
														                                   label="{!organisation.Name}" />
														         </aura:iteration>
														      </ui:inputSelect>
														    </aura:set>
														</aura:if>
								                 </div>
								            </div>   
								        </div>
								        <span class="btnNewOrganisation" onclick="{!c.openOrganisationNew}">
								            <lightning:icon iconName="utility:new" size="small" />
								        </span>
								 </div>
							 </div>
                         </td>
                      </tr>
                      <tr>
                           <td class="textInDivCmp" >
                              <div class="slds-box widthBox slds-theme_alert-texture">
                                  <c:OrmPhasesListCmp idAssessment="{!v.assessmentData.Id }"/>
                              </div>
	                       </td>
                      </tr>
                      <tr>
                          <td class="textInDivCmp">
                              <div class="slds-box widthBox slds-theme_alert-texture">
                                  <c:OrmActivityListCmp assessmentData="{!v.assessmentData}"/> 
                              </div>
                          </td>
                      </tr>
                      <tr>
		                   <td class="textInDiv">
		                       <button onclick="{!c.backToTopFunction}" id="myBtn" title="Go to top">Top</button> 
		                   </td>
		               </tr>    
                   </aura:if>
                   <aura:if isTrue="{!v.showContextActivityShow}">
                     <tr>
	                     <td >
	                          <div style="margin-bottom:20px;">
	                               <h1 class="intro-title"> {!$Label.c.orm_proofs_of_activity} </h1>
	                           </div>
	                     </td>
	                 </tr>
                     <tr>
                         <td class="textInDivCmp">
                             <div class="slds-box widthBox slds-theme_alert-texture">
                                <c:OrmActivityProofListCmp /> 
                             </div> 
                         </td>
                     </tr>
                   </aura:if>
                   <aura:if isTrue="{!v.showContextWorkshop}">
                     <tr>
	                     <td >
	                          <div style="margin-bottom:20px;">
	                               <h1 class="intro-title">{!$Label.c.orm_Workshops} </h1>
	                           </div>
	                     </td>
	                 </tr>
                     <tr>
	                     <td class="textInDiv">
	                           <div style="margin-bottom:20px">
	                               {!$Label.c.orm_workshop}
	                           </div>
	                        </td>
	                  </tr>
                     <tr>
                          <td class="textInDivCmp">
                              <c:OrmWorkShopListCmp assessmentData="{!v.assessmentData}"/>
                          </td>
                     </tr>
                  </aura:if>  
                  <aura:if isTrue="{!v.showSlider}">
                      <tr>
	                     <td >
	                          <div style="margin-bottom:40px;">
	                               <h1 class="intro-title">{!$Label.c.orm_risk_configuration} </h1>
	                           </div>
	                     </td> 
	                 </tr>
                      <tr>
                          <td>
                                <c:OrmSliderCmp idAssessment="{!v.assessmentData.Id }" /> 
                           </td>
                       </tr>
                  </aura:if>
                  <aura:if isTrue="{!v.showRiskIdentif}">
                       <tr>
	                       <td >
	                          <div style="margin-bottom:20px;margin-top: 10px">
	                               <h1 class="intro-title">{!$Label.c.orm_creation_and_associationRisk}</h1>
	                           </div>
	                       </td>
		               </tr>
                       <tr>
	                     <td class="textInDiv">
	                           <div style="margin-bottom:20px">
	                               {!$Label.c.orm_riskIdentification}
	                           </div>
	                        </td>
	                   </tr>
                       <tr>
                          <td class="textInDivCmp">
<!--                                <c:OrmRiskIdentificationLayoutCmp idAssessment="{!v.assessmentData.Id}" />  -->
                               <c:OrmRiskIdentificationCmp idAssessment="{!v.assessmentData.Id}" /> 
                          </td>
                       </tr>
                 </aura:if>  
                 <aura:if isTrue="{!v.showRiskAnalyse}">
                    <tr>
	                    <td class="textInDiv">
	                       <div style="margin-top:10px; margin-bottom:10px">
	                          <lightning:button label="{!$Label.c.orm_back_button_assessmentRisk}" 
	                              onclick="{!c.navigateToListAssessmentRisk}" variant="neutral"
	                              iconName='utility:back'/>
	                       </div>
	                    </td>
	                </tr>
	                <tr>
                       <td >
                          <div style="margin-bottom:20px;margin-top: 10px">
                               <h1 class="intro-title"> {!$Label.c.orm_details_risk} </h1>
                           </div>
                       </td>
		            </tr>
                    <tr>
                      <td class="textInDivCmp">
                          <c:OrmAssessmentRiskConfigCmp assessmentData="{!v.assessmentData}"  />
                      </td>
                    </tr>
                  </aura:if>
                  <aura:if isTrue="{!v.showMatriceAssessmentRisk}">
	                    <tr>
	                       <td class="textInDivMatriceCmp">
	                           <c:OrmMatricesRiskCmp assessmentRiskData="{!v.assessmentRiskData}" data="{!v.data}"  />
	                       </td>
	                    </tr>
                  </aura:if>
                  <aura:if isTrue="{!v.showListCauseAndImpact}">
                    <tr>
                     <td >
                          <div style="margin-bottom:20px;margin-top:10px">
                               <h1 class="intro-title">Causes and Impacts of assessment</h1>
                           </div>
                     </td>
                  </tr>
                    <tr>
                      <td class="textInDivCmp">
                         <div class="slds-box widthBox slds-theme_alert-texture">
                             <c:OrmCauseListCmp />
                         </div>
                      </td>
                    </tr> 
                    <tr>
                       <td class="textInDivCmp">
                          <div class="slds-box widthBox slds-theme_alert-texture">
                             <c:OrmPhaseAssessmentRiskListCmp />
                          </div>
                       </td>
                    </tr>
                    <tr>
                       <td class="textInDivCmp">
                          <div class="slds-box widthBox slds-theme_alert-texture">
                             <c:OrmAssumptionAssessmentRiskListCmp /> 
                          </div>
                       </td>
                    </tr>
                    <tr>
                       <td class="textInDivCmp">
                          <div class="slds-box widthBox slds-theme_alert-texture">
                             <c:OrmImpactListCmp />
                          </div>
                       </td>
                    </tr>
                </aura:if>
                 
                <aura:if isTrue="{!v.showListMeasure}"> 
                    <tr>
	                     <td >
	                          <div style="margin-bottom:20px;margin-top:10px">
	                               <h1 class="intro-title">{!$Label.c.orm_list_of_measures} </h1>
	                           </div>
	                     </td>
	                </tr>                 
                    <tr>
                        <td >
                            <c:OrmMeasureListCmp />
                        </td>
                    </tr>
                </aura:if>
                <aura:if isTrue="{!v.showRiskTreatment}">
                    <tr>
	                    <td class="textInDiv">
	                       <div style="margin-top:10px; margin-bottom:10px">
	                          <lightning:button label="{!$Label.c.orm_back_button_messureList}" 
	                              onclick="{!c.navigateToListMeasure}" variant="neutral"
	                              iconName='utility:back'/>
	                       </div>
	                    </td>
	                </tr>
                    <tr>
	                     <td >
	                          <div style="margin-bottom:20px;">
	                               <h1 class="intro-title">{!$Label.c.orm_detail_of_measures}	</h1>
	                           </div>
	                     </td>
	                </tr>  
                    <tr>
                        <td >
                            <c:OrmRiskTreatmentCmp />
                        </td>
                    </tr>
                     <tr>
                        <td >
                            <c:OrmMeasureProgressionCmp />
                        </td>
                    </tr>
                </aura:if>
                <aura:if isTrue="{!v.showRiskPicture}">
                     <tr>
                        <td >
                            <c:OrmMatriceTableCmp idAssessment="{!v.assessmentData.Id }" /> 
                        </td>
                    </tr>
                </aura:if>
                <aura:if isTrue="{!v.showActionPlan}">
                      <tr>
                        <td >
                            <c:OrmActionPlanLayoutCmp idAssessment="{!v.assessmentData.Id}" />
                        </td>
                    </tr>
                </aura:if>
                <aura:if isTrue="{!v.displaySaveCancelBtn}"> 
                      <tr>
                          <td class="textInDiv">
                             <div style="margin-bottom:20px;">
                                 <lightning:buttonGroup class="slds-m-around_medium">
                                 <lightning:button label="{!$Label.c.orm_cancel_button}" onclick="{!c.cancel}"/>
                                 <lightning:button label="{!$Label.c.orm_save_button}"
                                                  variant="neutral"
                                                  class="slds-button slds-button_success"
                                                  onclick="{!c.createAssessment}"/>
                                 </lightning:buttonGroup>
                                  <span style="color:red">{!v.assessmentData.Id == null ? $Label.c.orm_message_save : $Label.c.orm_message_update}</span>
                             </div>
                          </td>
                      </tr>
                    </aura:if>
             </table>
       </div>
      <aura:if isTrue="{!v.closeFieldDescription == false}">
       <div class="slds-size--2-of-8 " style="margin-top:20px;padding-left:5px;padding-right:5px;padding-bottom:10px;text-justify: inter-word;position:sticky;top:160px">
           <c:OrmFieldDescriptionCmp/>
       </div>
    </aura:if> 
    <aura:if isTrue="{!v.showChevronright}">
        <div class="slds-size--1-of-8" style="position:sticky;top:420px;padding-left:50px" id="arrowRight">
               <aura:if isTrue="{!v.showContext}">
                   <span class="dot">
                     <lightning:icon class="iconNext" onclick="{!c.nextTab}" iconName="utility:forward" size="large" />
                   </span>
               </aura:if>
               <aura:if isTrue="{!v.showContext2}">
	               <span class="dot">
                     <lightning:icon class="iconNext" onclick="{!c.nextTab}" iconName="utility:forward" size="large" />
                   </span>
               </aura:if>
               <aura:if isTrue="{!v.showContextActivity}">
                   <span class="dot">
                     <lightning:icon class="iconNext" onclick="{!c.nextTab}" iconName="utility:forward" size="large" />
                   </span>
               </aura:if>
               <aura:if isTrue="{!v.showContextActivityShow}">
                   <span class="dot">
                     <lightning:icon class="iconNext" onclick="{!c.nextTab}" iconName="utility:forward" size="large" />
                   </span>
               </aura:if>
               <aura:if isTrue="{!v.showContextWorkshop}">
                   <span class="dot">
                     <lightning:icon class="iconNext" onclick="{!c.nextTab}" iconName="utility:forward" size="large" />
                   </span>
               </aura:if>
               <aura:if isTrue="{!v.showSlider}">
                   <span class="dot">
                     <lightning:icon class="iconNext" onclick="{!c.nextTab}" iconName="utility:forward" size="large" />
                   </span>
               </aura:if>
               <aura:if isTrue="{!v.showRiskAnalyse}">        
                   <span class="dot">
                     <lightning:icon class="iconNext" onclick="{!c.nextTab}" iconName="utility:forward" size="large" />
                   </span>
               </aura:if>
               <aura:if isTrue="{!v.showMatriceAssessmentRisk}">        
                   <span class="dot">
                     <lightning:icon class="iconNext" onclick="{!c.nextTab}" iconName="utility:forward" size="large" />
                   </span>
               </aura:if>
               <aura:if isTrue="{!v.showListCauseAndImpact}">        
                   <span class="dot">
                     <lightning:icon class="iconNext" onclick="{!c.nextTab}" iconName="utility:forward" size="large" />
                   </span>
               </aura:if>
               <aura:if isTrue="{!v.showListAssumption}">        
                   <span class="dot">
                     <lightning:icon class="iconNext" onclick="{!c.nextTab}" iconName="utility:forward" size="large" />
                   </span>
               </aura:if>
               <aura:if isTrue="{!v.showRiskTreatment}">        
                   <span class="dot">
                     <lightning:icon class="iconNext" onclick="{!c.nextTab}" iconName="utility:forward" size="large" />
                   </span>
               </aura:if>
               <aura:if isTrue="{!v.showRiskPicture}">        
                   <span class="dot">
                     <lightning:icon class="iconNext" onclick="{!c.nextTab}" iconName="utility:forward" size="large" />
                   </span>
               </aura:if>
        </div>
     </aura:if> 
  
    <c:OrmOrganisationNewCmp/>
    <c:OrmWorkShopNewCmp/>
</aura:component>